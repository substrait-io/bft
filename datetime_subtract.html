<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>subtract Function - BFT</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    
        <meta name="description" content="Reference for the  function">
    
    <link rel="stylesheet" href="./assets/supplementary/terminal.css">
    <link rel="stylesheet" href="./assets/supplementary/style.css">
</head>

<body class="terminal">
    <header class="container terminal-nav">
        <div class="terminal-logo">
            <div class="logo terminal-prompt">
                <a href="#">The BFT</a>
            </div>
        </div>
        <nav class="terminal-menu">
            <ul>
                <li>
                    <a href="./index.html" class="menu-item">Function Index</a>
                </li>
            </ul>
        </nav>
    </header>

    <article class="container">
        <h2>Subtract</h2>
        <section>
            <p>
                Defined in <a href="https://github.com/substrait-io/substrait/blob/main/extensions/functions_datetime.yaml">functions_datetime.yaml</a>
            </p>
            <hr>
            <p>
                Subtract an interval from a date/time type.
Timezone strings must be as defined by IANA timezone database (https://www.iana.org/time-zones). Examples: "Pacific/Marquesas", "Etc/GMT+1". If timezone is invalid an error is thrown.
            </p>
        </section>
        <hr>
        <section id="options">
            <h3>Options&nbsp;<a href="#options">&para;</a></h3>
            
        </section>
        <hr>
        <section id="kernels">
            <h3>Kernels&nbsp;<a href="#kernels">&para;</a></h3>
            <ul>
                
                <li class="bft-kernel"><span>subtract(timestamp, interval_year) -> timestamp : []</span><span hidden>&nbsp;(not supported by dialect)</span></li>
                
                <li class="bft-kernel"><span>subtract(timestamp_tz, interval_year) -> timestamp_tz : []</span><span hidden>&nbsp;(not supported by dialect)</span></li>
                
                <li class="bft-kernel"><span>subtract(timestamp_tz, interval_year, string) -> timestamp_tz : []</span><span hidden>&nbsp;(not supported by dialect)</span></li>
                
                <li class="bft-kernel"><span>subtract(date, interval_year) -> date : []</span><span hidden>&nbsp;(not supported by dialect)</span></li>
                
                <li class="bft-kernel"><span>subtract(timestamp, interval_day) -> timestamp : []</span><span hidden>&nbsp;(not supported by dialect)</span></li>
                
                <li class="bft-kernel"><span>subtract(timestamp_tz, interval_day) -> timestamp_tz : []</span><span hidden>&nbsp;(not supported by dialect)</span></li>
                
                <li class="bft-kernel"><span>subtract(date, interval_day) -> date : []</span><span hidden>&nbsp;(not supported by dialect)</span></li>
                
            </ul>
        </section>
        <hr>
        <section id="dialects">
            <h3>Dialects&nbsp;<a href="#dialects">&para;</a></h3>
            <select id="dialect">
                
                <option>datafusion</option>
                
                <option>snowflake</option>
                
                <option>duckdb</option>
                
                <option>cudf</option>
                
                <option>sqlite</option>
                
                <option>velox_presto</option>
                
                <option>postgres</option>
                
            </select>
            
            <dl class="dialect-definition" id="dialect-datafusion">
                
                    <dt>Dialect isn't yet supported</dt>
                
            </dl>
            
            <dl class="dialect-definition" id="dialect-snowflake">
                
                    <dt>Dialect isn't yet supported</dt>
                
            </dl>
            
            <dl class="dialect-definition" id="dialect-duckdb">
                
                    <dt>Dialect isn't yet supported</dt>
                
            </dl>
            
            <dl class="dialect-definition" id="dialect-cudf">
                
                    <dt>Dialect isn't yet supported</dt>
                
            </dl>
            
            <dl class="dialect-definition" id="dialect-sqlite">
                
                    <dt>Dialect isn't yet supported</dt>
                
            </dl>
            
            <dl class="dialect-definition" id="dialect-velox_presto">
                
                    <dt>Dialect isn't yet supported</dt>
                
            </dl>
            
            <dl class="dialect-definition" id="dialect-postgres">
                
                    <dt>Dialect isn't yet supported</dt>
                
            </dl>
            
        </section>
        <hr>
        <section id="details">
            <h3>Details&nbsp;<a href="#details">&para;</a></h3>
            
                
                    <h4>Other floating point exceptions</h4>
                    <p>The IEEE 754 standard defines a number of exceptions beyond rounding. For
example, division by zero, overflow, and underflow. However, these exceptions
have default behaviors defined by IEEE 754 and, since no known engine deviates
from these default values, these exceptions are not exposed as options. For more
information on what happens in these cases refer to the IEEE 754 standard.</p>
                
                    <h4>Not commutative</h4>
                    <p>Subtraction, the algebraic operation, is commutative.  So it may be tempting to
believe the subtract function is commutative as well.  However, this is not true
because of overflow.  For example, when working with int8 the result of
subtract(subtract(-120, 10), -5) will yield a different result than
subtract(subtract(-120, -5), 10) because the first will overflow and the second
will not.</p>
                
            
        </section>
        <hr>
        <section id="properties">
            <h3>Properties&nbsp;<a href="#properties">&para;</a></h3>
            
                <dl>
                    
                        <dt>NaN propagating</dt>
                        <dd><p>If any of the inputs is NaN (and the other input is not null) then the output will be NaN
</p></dd>
                    
                        <dt>Null propagating</dt>
                        <dd><p>If any of the inputs is null then the output will be null
</p></dd>
                    
                        <dt>Stateless</dt>
                        <dd><p>The output will be the same regardless of the order of input rows.
 This is not
guaranteed to be true for integer subtraction when overflow is SILENT.</p></dd>
                    
                </dl>
            
        </section>
        <hr>
        <section id="examples">
            <h3>Examples&nbsp;<a href="#examples">&para;</a></h3>
            
            <table>
                <caption>Basic examples without any special cases</caption>
                <thead>
                    <tr>
                        
                        
                        <th>arg1 (i64)</th>
                        
                        <th>arg2 (i64)</th>
                        
                        <th>result (i64)</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr class="bft-case">
                        
                        
                        <td>120</td>
                        
                        <td>5</td>
                        
                        <td>115</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        
                        <td>-100</td>
                        
                        <td>100</td>
                        
                        <td>-200</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        
                        <td>-30000</td>
                        
                        <td>30000</td>
                        
                        <td>-60000</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        
                        <td>-2000000000</td>
                        
                        <td>2000000000</td>
                        
                        <td>-4000000000</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    </tbody>
            </table>
            
            <table>
                <caption>examples using the date types and resulting in a timestamp</caption>
                <thead>
                    <tr>
                        
                        
                        <th>arg1 (date)</th>
                        
                        <th>arg2 (interval)</th>
                        
                        <th>result (timestamp)</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr class="bft-case">
                        
                        
                        <td>2020-12-31</td>
                        
                        <td>INTERVAL '5 DAY'</td>
                        
                        <td>2020-12-26 00:00:00</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        
                        <td>2020-12-31</td>
                        
                        <td>INTERVAL '5 YEAR'</td>
                        
                        <td>2015-12-31 00:00:00</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        
                        <td>2020-12-31</td>
                        
                        <td>INTERVAL '5 MONTH'</td>
                        
                        <td>2020-07-31 00:00:00</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    </tbody>
            </table>
            
            <table>
                <caption>Examples demonstrating exceptional floating point cases</caption>
                <thead>
                    <tr>
                        
                        
                        <th>arg1 (fp64)</th>
                        
                        <th>arg2 (fp64)</th>
                        
                        <th>result (fp64)</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr class="bft-case">
                        
                        
                        <td>-1.5e+308</td>
                        
                        <td>1.5e+308</td>
                        
                        <td>-inf</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        
                        <td>1.5e+308</td>
                        
                        <td>-1.5e+308</td>
                        
                        <td>inf</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    </tbody>
            </table>
            
            <table>
                <caption>examples with null args or return</caption>
                <thead>
                    <tr>
                        
                        
                        <th>arg1 (date)</th>
                        
                        <th>arg2 (interval)</th>
                        
                        <th>result (date)</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr class="bft-case">
                        
                        
                        <td>None</td>
                        
                        <td>INTERVAL '5 DAY'</td>
                        
                        <td>None</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    </tbody>
            </table>
            
            <table>
                <caption>Examples demonstrating overflow behavior</caption>
                <thead>
                    <tr>
                        
                        <th>overflow</th>
                        
                        
                        <th>arg1 (i8)</th>
                        
                        <th>arg2 (i8)</th>
                        
                        <th>result (i8)</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr class="bft-case">
                        
                        <td>ERROR</td>
                        
                        
                        <td>-120</td>
                        
                        <td>10</td>
                        
                        <td>ERROR</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        <td>ERROR</td>
                        
                        
                        <td>-30000</td>
                        
                        <td>30000</td>
                        
                        <td>ERROR</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        <td>ERROR</td>
                        
                        
                        <td>-2000000000</td>
                        
                        <td>2000000000</td>
                        
                        <td>ERROR</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        <td>ERROR</td>
                        
                        
                        <td>-9223372036854775808</td>
                        
                        <td>1</td>
                        
                        <td>ERROR</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        <td>SATURATE</td>
                        
                        
                        <td>-120</td>
                        
                        <td>10</td>
                        
                        <td>-128</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        <td>SATURATE</td>
                        
                        
                        <td>120</td>
                        
                        <td>-10</td>
                        
                        <td>127</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        <td>SILENT</td>
                        
                        
                        <td>-120</td>
                        
                        <td>10</td>
                        
                        <td>UNDEFINED</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    </tbody>
            </table>
            
            <table>
                <caption>examples using the timestamp type</caption>
                <thead>
                    <tr>
                        
                        
                        <th>arg1 (timestamp)</th>
                        
                        <th>arg2 (interval)</th>
                        
                        <th>result (timestamp)</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr class="bft-case">
                        
                        
                        <td>2016-12-31 13:30:15</td>
                        
                        <td>INTERVAL '5 DAY'</td>
                        
                        <td>2016-12-26 13:30:15</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        
                        <td>2016-12-01 13:30:15</td>
                        
                        <td>INTERVAL '5 YEAR'</td>
                        
                        <td>2011-12-01 13:30:15</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    
                    <tr class="bft-case">
                        
                        
                        <td>2016-12-01 13:30:15</td>
                        
                        <td>INTERVAL '5 HOUR'</td>
                        
                        <td>2016-12-01 08:30:15</td>
                    </tr>
                    <tr class="bft-error-case bft-case-err-message" hidden>
                        <td colspan="4"/>
                    </tr>
                    </tbody>
            </table>
            
        </section>
    </article>
    <script src="./assets/supplementary/script.js"></script>
    <script>
      var bftDialects = {
        
        'datafusion': {
            examples: [
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "The dialect datafusion expects overflow=SILENT but overflow=ERROR was requested",
                
                
                
                  "The dialect datafusion expects overflow=SILENT but overflow=ERROR was requested",
                
                
                
                  "The dialect datafusion expects overflow=SILENT but overflow=ERROR was requested",
                
                
                
                  "The dialect datafusion expects overflow=SILENT but overflow=ERROR was requested",
                
                
                
                  "The dialect datafusion expects overflow=SILENT but overflow=SATURATE was requested",
                
                
                
                  "The dialect datafusion expects overflow=SILENT but overflow=SATURATE was requested",
                
                
                
                  null,
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
            ],
            kernels: [
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
            ]
        },
        
        'snowflake': {
            examples: [
                
                
                  "The dialect snowflake does not support the kernel arithmetic.subtract(i8, i8) -> i8",
                
                
                
                  "The dialect snowflake does not support the kernel arithmetic.subtract(i16, i16) -> i16",
                
                
                
                  "The dialect snowflake does not support the kernel arithmetic.subtract(i32, i32) -> i32",
                
                
                
                  "The dialect snowflake does not support the kernel arithmetic.subtract(i64, i64) -> i64",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "The dialect snowflake does not support the kernel arithmetic.subtract(i8, i8) -> error",
                
                
                
                  "The dialect snowflake does not support the kernel arithmetic.subtract(i16, i16) -> error",
                
                
                
                  "The dialect snowflake does not support the kernel arithmetic.subtract(i32, i32) -> error",
                
                
                
                  "The dialect snowflake does not support the kernel arithmetic.subtract(i64, i64) -> error",
                
                
                
                  "The dialect snowflake does not support the kernel arithmetic.subtract(i8, i8) -> i8",
                
                
                
                  "The dialect snowflake does not support the kernel arithmetic.subtract(i8, i8) -> i8",
                
                
                
                  "The dialect snowflake does not support the kernel arithmetic.subtract(i8, i8) -> undefined",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
            ],
            kernels: [
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
            ]
        },
        
        'duckdb': {
            examples: [
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  "The dialect duckdb expects overflow=ERROR but overflow=SATURATE was requested",
                
                
                
                  "The dialect duckdb expects overflow=ERROR but overflow=SATURATE was requested",
                
                
                
                  "The dialect duckdb expects overflow=ERROR but overflow=SILENT was requested",
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
            ],
            kernels: [
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
            ]
        },
        
        'cudf': {
            examples: [
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "The dialect cudf expects overflow=SILENT but overflow=ERROR was requested",
                
                
                
                  "The dialect cudf expects overflow=SILENT but overflow=ERROR was requested",
                
                
                
                  "The dialect cudf expects overflow=SILENT but overflow=ERROR was requested",
                
                
                
                  "The dialect cudf expects overflow=SILENT but overflow=ERROR was requested",
                
                
                
                  "The dialect cudf expects overflow=SILENT but overflow=SATURATE was requested",
                
                
                
                  "The dialect cudf expects overflow=SILENT but overflow=SATURATE was requested",
                
                
                
                  null,
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
            ],
            kernels: [
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
            ]
        },
        
        'sqlite': {
            examples: [
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "The dialect sqlite expects overflow=SILENT but overflow=ERROR was requested",
                
                
                
                  "The dialect sqlite expects overflow=SILENT but overflow=ERROR was requested",
                
                
                
                  "The dialect sqlite expects overflow=SILENT but overflow=ERROR was requested",
                
                
                
                  "The dialect sqlite expects overflow=SILENT but overflow=ERROR was requested",
                
                
                
                  "The dialect sqlite expects overflow=SILENT but overflow=SATURATE was requested",
                
                
                
                  "The dialect sqlite expects overflow=SILENT but overflow=SATURATE was requested",
                
                
                
                  null,
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
            ],
            kernels: [
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
            ]
        },
        
        'velox_presto': {
            examples: [
                
                
                  "The dialect velox_presto does not support the kernel arithmetic.subtract(i8, i8) -> i8",
                
                
                
                  "The dialect velox_presto does not support the kernel arithmetic.subtract(i16, i16) -> i16",
                
                
                
                  "The dialect velox_presto does not support the kernel arithmetic.subtract(i32, i32) -> i32",
                
                
                
                  null,
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "The dialect velox_presto does not support the kernel arithmetic.subtract(i8, i8) -> error",
                
                
                
                  "The dialect velox_presto does not support the kernel arithmetic.subtract(i16, i16) -> error",
                
                
                
                  "The dialect velox_presto does not support the kernel arithmetic.subtract(i32, i32) -> error",
                
                
                
                  null,
                
                
                
                  "The dialect velox_presto does not support the kernel arithmetic.subtract(i8, i8) -> i8",
                
                
                
                  "The dialect velox_presto does not support the kernel arithmetic.subtract(i8, i8) -> i8",
                
                
                
                  "The dialect velox_presto does not support the kernel arithmetic.subtract(i8, i8) -> undefined",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
                
                  "There is no dialect information for this function",
                
                
            ],
            kernels: [
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
            ]
        },
        
        'postgres': {
            examples: [
                
                
                  "The dialect postgres does not support the kernel arithmetic.subtract(i8, i8) -> i8",
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  "The dialect postgres does not support the kernel arithmetic.subtract(fp64, fp64) -> fp64",
                
                
                
                  "The dialect postgres does not support the kernel arithmetic.subtract(fp64, fp64) -> fp64",
                
                
                
                  null,
                
                
                
                  "The dialect postgres does not support the kernel arithmetic.subtract(i8, i8) -> error",
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  "The dialect postgres does not support the kernel arithmetic.subtract(i8, i8) -> i8",
                
                
                
                  "The dialect postgres does not support the kernel arithmetic.subtract(i8, i8) -> i8",
                
                
                
                  "The dialect postgres does not support the kernel arithmetic.subtract(i8, i8) -> undefined",
                
                
                
                  null,
                
                
                
                  null,
                
                
                
                  null,
                
                
            ],
            kernels: [
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
                false,
                
            ]
        },
        
      };
      window.addEventListener('load', function() {
        window.bftInitialize(bftDialects);
      });
    </script>
</body>
</html>